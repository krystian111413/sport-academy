<div class="p-24">
  <mat-card>
    <mat-card-content>
      <form [formGroup]="formGroup">
        <mat-card class="mat-elevation-z0">
          <mat-card-title>Dane personalne</mat-card-title>
          <mat-form-field appearance="outline">
            <mat-label>Imie</mat-label>
            <input matInput placeholder="Name" formControlName="firstName">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Nazwisko</mat-label>
            <input matInput placeholder="Surname" formControlName="surName">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Pesel</mat-label>
            <input matInput type="number" placeholder="Pesel" formControlName="pesel">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Rok urodzenia</mat-label>
            <input matInput type="number" placeholder="Rok urodzenia" formControlName="yearOfBirthday">
          </mat-form-field>
        </mat-card>
      </form>
      <form [formGroup]="personalAddressForm">
        <mat-card class="mat-elevation-z0">
          <mat-card-title>Dane kontaktowe</mat-card-title>
          <mat-form-field appearance="outline">
            <mat-label>Ulica</mat-label>
            <input matInput placeholder="Ulica" formControlName="street">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Numer mieszakania/domu</mat-label>
            <input matInput placeholder="Numer mieszkania/domu" formControlName="buildingNumber">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Miasto</mat-label>
            <input matInput placeholder="City" formControlName="city">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Kod pocztowy</mat-label>
            <input matInput placeholder="Kod pocztowy" formControlName="code">
          </mat-form-field>
        </mat-card>
      </form>
      <form [formGroup]="taxOfficeAddressForm">
        <mat-card class="mat-elevation-z0">
          <mat-card-title>Adres urzędu skarbowego</mat-card-title>
          <mat-form-field appearance="outline">
            <mat-label>Adres</mat-label>
            <input matInput placeholder="Ulica" formControlName="address">
          </mat-form-field>
        </mat-card>
      </form>

      <mat-card class="mat-elevation-z0">
        <mat-card-title>Umowa</mat-card-title>
        <form [formGroup]="dealForm">
          <date-picker formControlName="startDate" appearance="outline" [isRequired]="true" placeholder="Data rozpoczęcia"></date-picker>
          <date-picker formControlName="endDate" appearance="outline" [isRequired]="true" placeholder="Data zakończenia"></date-picker>
        </form>
      </mat-card>

      <mat-card class="mat-elevation-z0">
        <mat-card-title>Uprawnienia</mat-card-title>
        <form [formGroup]="permissionsGroup">

          <form [formGroup]="lifeguardForm">
            <mat-card-subtitle>Ratownik Wodny</mat-card-subtitle>
            <input type="file" (change)="onFileSelected($event)">
            <date-picker formControlName="refreshedDate" appearance="outline" [isRequired]="true" placeholder="Data odświeżenia"></date-picker>
            <date-picker formControlName="endDate" appearance="outline" [isRequired]="true" placeholder="Data zakończenia"></date-picker>
          </form>

          <form [formGroup]="firstAidForm">
            <mat-card-subtitle>Kurs Kwalifikowanej Pierwszej Pomocy</mat-card-subtitle>
            <date-picker formControlName="refreshedDate" appearance="outline" [isRequired]="true" placeholder="Data odświeżenia"></date-picker>
            <date-picker formControlName="endDate" appearance="outline" [isRequired]="true" placeholder="Data zakończenia"></date-picker>
          </form>

          <mat-card-subtitle>Uprawnienia przydatne w ratownictwie</mat-card-subtitle>
          <mat-form-field>
            <mat-label>Uprawnienia</mat-label>
            <mat-select formControlName="usefulPermissions" multiple>
              <mat-option *ngFor="let usefulPermission of usefulPermissions" [value]="usefulPermission">{{usefulPermission}}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Inne uprawnienia</mat-label>
            <input matInput placeholder="Inne..." formControlName="anotherPermission">
          </mat-form-field>

          <form [formGroup]="medicalExaminationForm">
            <mat-card-subtitle>Badania lekarskie</mat-card-subtitle>
            <date-picker formControlName="refreshedDate" appearance="outline" [isRequired]="true" placeholder="Data odświeżenia"></date-picker>
            <date-picker formControlName="endDate" appearance="outline" [isRequired]="true" placeholder="Data zakończenia"></date-picker>
          </form>

          <form [formGroup]="OHSTestsForm">
            <mat-card-subtitle>Badania BHP</mat-card-subtitle>
            <date-picker formControlName="refreshedDate" appearance="outline" [isRequired]="true" placeholder="Data odświeżenia"></date-picker>
            <date-picker formControlName="endDate" appearance="outline" [isRequired]="true" placeholder="Data zakończenia"></date-picker>
          </form>

          <form [formGroup]="sanelForm">
            <mat-card-subtitle>Sanepid</mat-card-subtitle>
            <date-picker formControlName="endDate" appearance="outline" [isRequired]="true" placeholder="Data zakończenia"></date-picker>
          </form>

          <form [formGroup]="studentCardForm">
            <mat-card-subtitle>Legitymacja Studencka</mat-card-subtitle>
            <date-picker formControlName="endDate" appearance="outline" placeholder="Data zakończenia"></date-picker>
          </form>
        </form>
      </mat-card>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="onSave()" [disabled]="!formGroup.valid || !formGroup.dirty">
        <mat-icon>add</mat-icon>
        add
      </button>
    </mat-card-actions>
  </mat-card>
</div>
